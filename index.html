<!doctype html>
<html>
  <head>
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify/dist/vuetify.js"></script>
    <script src="app.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/vue-material@beta/dist/vue-material.min.css">
    <link rel="stylesheet" href="https://unpkg.com/vue-material@beta/dist/theme/default.css">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

    <style>
      [v-cloak] {
        display: none;
      }

      .fraction-container {
        display: flex;
        justify-content: center;
        line-height: 0.8;
      }

      .fraction {
        display: flex;
        justify-content: center;
        font-size: 0.5em;
      }

        .fraction__number {
          font-size: 2em;
        }

        .fraction__numerator {
          border-bottom: 0.1em solid #000;
          text-align: center;
        }

        .fraction__denominator {
          text-align: center;
        }
    </style>
  </head>

  <body>
    <div id="app" v-cloak>
      <v-app>
        <v-content>
          <v-container>
            <v-text-field v-model="numerator" label="Numerator"></v-text-field>

            <v-text-field v-model="denominator" label="Denominator"></v-text-field>

            <v-slider
              v-model="zoom"
              label="Zoom"
              :max="3000"
              :min="300"
              :step="10"
            ></v-slider>

            <hr style="margin: 10px 0;">

            <div class="fraction-container" :style="{'font-size': zoom + 'px'}">
              <fraction v-bind="$data"></fraction>
            </div>
          </v-container>
        </v-content>
      </v-app>
    </div>
  </body>

  <script>
    new Vue({
      el: "#app",

      data: {
        numerator: 3,
        denominator: 8,
        zoom: 600
      },

      watch: {
        numerator: function() {
          if (typeof this.numerator != 'number') {
            this.numerator = parseInt(this.numerator) || 0;
          }
        },

        denominator: function() {
          if (typeof this.denominator != 'number') {
            this.denominator = parseInt(this.denominator) || 0;
          }
        }
      },

      mounted: function() {
        this.setValuesFromURL();
      },

      methods: {
        setValuesFromURL: function() {
          var queryString = location.search.substr(1);

          var values = queryString.split("/");

          if (values.length == 2) {
            this.numerator = values[0];
            //this.denominator = values[1];
          }
        }
      }
    });
  </script>
</html>
